<!DOCTYPE html>
<html>
<head>
    <title>HTML</title>
    <meta charset="utf-8">
    <style type="text/css">
        .saat {margin-right: 20px;border: 1px solid blue; padding: 10px}
    </style>
</head>
<body>
    <h1>Dünya Saatleri</h1>
    <div style="display: flex">
        <div class='saat'>
            <div>LOS ANGELES</div>
            <div id="tarih_america_los_angeles">TARİH</div>
            <div id="zaman_america_los_angeles">ZAMAN</div>
        </div>
        <div class='saat'>
            <div>LONDRA</div>
            <div id="tarih_europe_london">TARİH</div>
            <div id="zaman_europe_london">ZAMAN</div>
        </div>
        <div class='saat'>
            <div>İSTANBUL</div>
            <div id="tarih_europe_istanbul">TARİH</div>
            <div id="zaman_europe_istanbul">ZAMAN</div>
        </div>
        <div class='saat'>
            <div>TOKYO</div>
            <div id="tarih_asia_tokyo">TARİH</div>
            <div id="zaman_asia_tokyo">ZAMAN</div>
        </div>
    </div>
    <script type="text/javascript">

        const get_tarih_zaman = (params="", id="europe_istanbul") => {
            params = params +"&key=-99dka982jcadkad9daad3dec";
            console.log(params);
            fetch("saat_key.php"+params)
            .then(response => response.json())
            .then(data => {
                console.log(data);
                document.querySelector("#tarih_"+id).textContent = data.tarih;
                document.querySelector("#zaman_"+id).textContent = data.zaman;
            });
        };
        
        const toplu_tarih_zaman = () => {
            get_tarih_zaman("?bolge=europe&sehir=istanbul","europe_istanbul");
            get_tarih_zaman("?bolge=america&sehir=los_angeles","america_los_angeles");
            get_tarih_zaman("?bolge=europe&sehir=london","europe_london");
            get_tarih_zaman("?bolge=asia&sehir=tokyo","asia_tokyo");
        };
        
        toplu_tarih_zaman();
        setInterval(toplu_tarih_zaman,1000);

    </script>
</body>
</html>
